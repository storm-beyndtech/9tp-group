"use strict";function videoPlay(t){var e=t.find(".js-videoIframe"),o=e.data("src");t.addClass("videoWrapperActive"),e.attr("src",o)}!function(n){function a(){n(window).width()<768?(n(".footer__menu .has-dropdown").on("click",function(){n(this).toggleClass("arrow-down"),n(".arrow-down .toggle-menu").slideToggle("slow")}),n(".footer__menu .has-dropdown").on("click",function(t){t.preventDefault();var e=n(this).find(".sub-menu");e.hasClass("show")?e.removeClass("show"):(e.parent().find(".sub-menu").removeClass("show"),e.toggleClass("show"))})):(n(".footer__menu .has-dropdown").off("click"),n(".footer__menu .has-dropdown").off("click"))}n(document).ready(function(){var t,o=location.href.replace(/\/$/,"");location.hash&&(t=o.split("#"),n('#myTab a[href="#'+t[1]+'"]').tab("show"),o=location.href.replace(/\/#/,"#"),history.replaceState(null,null,o)),n('a[data-toggle="tab"]').on("click",function(){var t=void 0,e=n(this).attr("href"),t="#tab1"==e?o.split("#")[0]:o.split("#")[0]+e;t+="/",history.replaceState(null,null,t)}),n("#top").on("click",function(){n("html, body").animate({scrollTop:0},200)}),n(".main-content").on("click",".anchor",function(t){t.preventDefault();var e=n(this).attr("href"),o=n(e).offset().top;n("body,html").animate({scrollTop:o},1500)}),AOS.init(),n(".matchHeight").matchHeight(),n(function(){n(".leaders").each(function(t,e){n(e).find(".leaders__item .leaders__item--bottom").matchHeight({byRow:!1})})}),n(function(){n(".think").each(function(t,e){n(e).find(".think__item .think__item--bottom").matchHeight({byRow:!1})})}),n(function(){n(".solutions").each(function(t,e){n(e).find(".solutions__items--item .hidden").matchHeight({byRow:!1})})});var e=document.querySelector("#phone");window.intlTelInput(e,{separateDialCode:!0,customPlaceholder:function(){return""}}),n("form :input").focus(function(){n("label[for='"+this.id+"']").addClass("selected")}).blur(function(){n("label").removeClass("selected")}),a(),n(".main-header").on("click",".main-btn",function(t){t.preventDefault();var e=n(this).attr("href"),o=n(e).offset().top;n("body,html").animate({scrollTop:o},1500)})}),n(window).resize(function(){a()}),n(window).scroll(function(){0<n(this).scrollTop()-2e3?n("#top").stop().slideDown("fast"):n("#top").stop().slideUp("fast")})}(jQuery),window.onload=function(){$(".contact-form form").each(function(){$(this).validate({errorClass:"has-error",validClass:"has-success",showErrors:function(t){t.attach&&Notify(uploadErrorMessage,notifyDelay),this.defaultShowErrors()},highlight:function(t,e,o){$(t).parent().parent().addClass(e).removeClass(o)},unhighlight:function(t,e,o){$(t).parent().parent().removeClass(e).addClass(o)},rules:{name:{required:!0,maxlength:255},last_name:{required:!0,maxlength:255},phone:{required:!0,number:!0,maxlength:255,minlength:5},company:{required:!0,maxlength:255},country:{required:!0},size:{required:!0},position:{required:!0},email:{required:{depends:function(){return $(this).val($.trim($(this).val())),!0}},email:!0,maxlength:255}},messages:!1,submitHandler:function(e,t){t.preventDefault();var o=new FormData(e),n=e.getAttribute("data-url"),a=document.querySelector(".contact-form .success");window.handleFormSubmit(n,o,{type:"ContactForm"}).then(function(t){t.data.status&&(window.dataLayer.push({event:"EbookDownload"}),e.classList.add("hidden"),a.classList.remove("hidden"))}).catch(function(t){console.log(t)})}})})},$(document).on("click",".js-videoPoster",function(t){t.preventDefault(),videoPlay($(this).closest(".js-videoWrapper"))});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsidmlkZW9QbGF5IiwiJHdyYXBwZXIiLCIkaWZyYW1lIiwiZmluZCIsInNyYyIsImRhdGEiLCJhZGRDbGFzcyIsImF0dHIiLCIkIiwib25SZXNpemUiLCJ3aW5kb3ciLCJ3aWR0aCIsIm9uIiwidGhpcyIsInRvZ2dsZUNsYXNzIiwic2xpZGVUb2dnbGUiLCJlIiwicHJldmVudERlZmF1bHQiLCIkdGhpcyIsImhhc0NsYXNzIiwicmVtb3ZlQ2xhc3MiLCJwYXJlbnQiLCJvZmYiLCJkb2N1bWVudCIsInJlYWR5IiwiaGFzaCIsInVybCIsImxvY2F0aW9uIiwiaHJlZiIsInJlcGxhY2UiLCJzcGxpdCIsInRhYiIsImhpc3RvcnkiLCJyZXBsYWNlU3RhdGUiLCJuZXdVcmwiLCJhbmltYXRlIiwic2Nyb2xsVG9wIiwiZXZlbnQiLCJpZCIsInRvcCIsIm9mZnNldCIsIkFPUyIsImluaXQiLCJtYXRjaEhlaWdodCIsImVhY2giLCJpIiwiZWxlbSIsImJ5Um93IiwiaW5wdXQiLCJxdWVyeVNlbGVjdG9yIiwiaW50bFRlbElucHV0Iiwic2VwYXJhdGVEaWFsQ29kZSIsImN1c3RvbVBsYWNlaG9sZGVyIiwiZm9jdXMiLCJibHVyIiwicmVzaXplIiwic2Nyb2xsIiwic3RvcCIsInNsaWRlRG93biIsInNsaWRlVXAiLCJqUXVlcnkiLCJvbmxvYWQiLCJ2YWxpZGF0ZSIsImVycm9yQ2xhc3MiLCJ2YWxpZENsYXNzIiwic2hvd0Vycm9ycyIsImVycm9yTWFwIiwiTm90aWZ5IiwidXBsb2FkRXJyb3JNZXNzYWdlIiwibm90aWZ5RGVsYXkiLCJkZWZhdWx0U2hvd0Vycm9ycyIsImhpZ2hsaWdodCIsInVuaGlnaGxpZ2h0IiwicnVsZXMiLCJuYW1lIiwicmVxdWlyZWQiLCJtYXhsZW5ndGgiLCJsYXN0X25hbWUiLCJwaG9uZSIsIm51bWJlciIsIm1pbmxlbmd0aCIsImNvbXBhbnkiLCJjb3VudHJ5Iiwic2l6ZSIsInBvc2l0aW9uIiwiZW1haWwiLCJkZXBlbmRzIiwidmFsIiwidHJpbSIsIm1lc3NhZ2VzIiwic3VibWl0SGFuZGxlciIsImZvcm0iLCJyb3dEYXRhIiwiRm9ybURhdGEiLCJnZXRBdHRyaWJ1dGUiLCJzdWNjZXNzTWVzc2FnZSIsImhhbmRsZUZvcm1TdWJtaXQiLCJ0eXBlIiwidGhlbiIsInJlcyIsInN0YXR1cyIsImRhdGFMYXllciIsInB1c2giLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiLCJjYXRjaCIsImVycm9yIiwiY29uc29sZSIsImxvZyIsImV2IiwiY2xvc2VzdCJdLCJtYXBwaW5ncyI6ImFBK05BLFNBQUFBLFVBQUFDLEdBQ0EsSUFBQUMsRUFBQUQsRUFBQUUsS0FBQSxtQkFDQUMsRUFBQUYsRUFBQUcsS0FBQSxPQUVBSixFQUFBSyxTQUFBLHNCQUVBSixFQUFBSyxLQUFBLE1BQUFILElBbE9BLFNBQUFJLEdBRUEsU0FBQUMsSUFDQUQsRUFBQUUsUUFBQUMsUUFBQSxLQUNBSCxFQUFBLCtCQUFBSSxHQUFBLFFBQUEsV0FDQUosRUFBQUssTUFBQUMsWUFBQSxjQUNBTixFQUFBLDRCQUFBTyxZQUFBLFVBR0FQLEVBQUEsK0JBQUFJLEdBQUEsUUFBQSxTQUFBSSxHQUNBQSxFQUFBQyxpQkFFQSxJQUFBQyxFQUFBVixFQUFBSyxNQUFBVixLQUFBLGFBRUFlLEVBQUFDLFNBQUEsUUFDQUQsRUFBQUUsWUFBQSxTQUVBRixFQUFBRyxTQUFBbEIsS0FBQSxhQUFBaUIsWUFBQSxRQUNBRixFQUFBSixZQUFBLGFBSUFOLEVBQUEsK0JBQUFjLElBQUEsU0FDQWQsRUFBQSwrQkFBQWMsSUFBQSxVQUlBZCxFQUFBZSxVQUFBQyxNQUFBLFdBRUEsSUFHQUMsRUFIQUMsRUFBQUMsU0FBQUMsS0FBQUMsUUFBQSxNQUFBLElBRUFGLFNBQUFGLE9BQ0FBLEVBQUFDLEVBQUFJLE1BQUEsS0FDQXRCLEVBQUEsbUJBQUFpQixFQUFBLEdBQUEsTUFBQU0sSUFBQSxRQUNBTCxFQUFBQyxTQUFBQyxLQUFBQyxRQUFBLE1BQUEsS0FDQUcsUUFBQUMs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VUFBQSxHQUVBUyxTQUFBLENBQ0FULFVBQUEsR0FFQVUsTUFBQSxDQUNBVixTQUFBLENBQ0FXLFFBQUEsV0FFQSxPQURBOUUsRUFBQUssTUFBQTBFLElBQUEvRSxFQUFBZ0YsS0FBQWhGLEVBQUFLLE1BQUEwRSxTQUNBLElBR0FGLE9BQUEsRUFDQVQsVUFBQSxNQUdBYSxVQUFBLEVBQ0FDLGNBQUEsU0FBQUMsRUFBQXRELEdBQ0FBLEVBQUFwQixpQkFDQSxJQUFBMkUsRUFBQSxJQUFBQyxTQUFBRixHQUNBakUsRUFBQWlFLEVBQUFHLGFBQUEsWUFDQUMsRUFBQXhFLFNBQUEwQixjQUFBLDBCQUVBdkMsT0FBQXNGLGlCQUFBdEUsRUFBQWtFLEVBQUEsQ0FDQUssS0FBQSxnQkFDQUMsS0FBQSxTQUFBQyxHQUNBQSxFQUFBOUYsS0FBQStGLFNBQ0ExRixPQUFBMkYsVUFBQUMsS0FBQSxDQUFBakUsTUFBQSxrQkFDQXNELEVBQUFZLFVBQUFDLElBQUEsVUFDQVQsRUFBQVEsVUFBQUUsT0FBQSxhQUVBQyxNQUFBLFNBQUFDLEdBQ0FDLFFBQUFDLElBQUFGLFdBUUFuRyxFQUFBZSxVQUFBWCxHQUFBLFFBQUEsa0JBQUEsU0FBQWtHLEdBRUFBLEVBQUE3RixpQkFHQWpCLFVBRkFRLEVBQUFLLE1BQ0FrRyxRQUFBIiwiZmlsZSI6ImFwcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbjtcbihmdW5jdGlvbiAoJCkge1xuXG4gIGZ1bmN0aW9uIG9uUmVzaXplKCkge1xuICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA8IDc2OCkge1xuICAgICAgJCgnLmZvb3Rlcl9fbWVudSAuaGFzLWRyb3Bkb3duJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAkKHRoaXMpLnRvZ2dsZUNsYXNzKCdhcnJvdy1kb3duJyk7XG4gICAgICAgICQoJy5hcnJvdy1kb3duIC50b2dnbGUtbWVudScpLnNsaWRlVG9nZ2xlKCdzbG93Jyk7XG4gICAgICB9KTtcblxuICAgICAgJCgnLmZvb3Rlcl9fbWVudSAuaGFzLWRyb3Bkb3duJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIHZhciAkdGhpcyA9ICQodGhpcykuZmluZCgnLnN1Yi1tZW51Jyk7XG5cbiAgICAgICAgaWYgKCR0aGlzLmhhc0NsYXNzKCdzaG93JykpIHtcbiAgICAgICAgICAkdGhpcy5yZW1vdmVDbGFzcygnc2hvdycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICR0aGlzLnBhcmVudCgpLmZpbmQoJy5zdWItbWVudScpLnJlbW92ZUNsYXNzKCdzaG93Jyk7XG4gICAgICAgICAgJHRoaXMudG9nZ2xlQ2xhc3MoJ3Nob3cnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICQoJy5mb290ZXJfX21lbnUgLmhhcy1kcm9wZG93bicpLm9mZignY2xpY2snKTtcbiAgICAgICQoJy5mb290ZXJfX21lbnUgLmhhcy1kcm9wZG93bicpLm9mZignY2xpY2snKTtcbiAgICB9XG4gIH1cblxuICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgdXJsID0gbG9jYXRpb24uaHJlZi5yZXBsYWNlKC9cXC8kLywgXCJcIik7XG5cbiAgICBpZiAobG9jYXRpb24uaGFzaCkge1xuICAgICAgdmFyIGhhc2ggPSB1cmwuc3BsaXQoXCIjXCIpO1xuICAgICAgJCgnI215VGFiIGFbaHJlZj1cIiMnICsgaGFzaFsxXSArICdcIl0nKS50YWIoXCJzaG93XCIpO1xuICAgICAgdXJsID0gbG9jYXRpb24uaHJlZi5yZXBsYWNlKC9cXC8jLywgXCIjXCIpO1xuICAgICAgaGlzdG9yeS5yZXBsYWNlU3RhdGUobnVsbCwgbnVsbCwgdXJsKTtcbiAgICB9XG5cbiAgICAkKCdhW2RhdGEtdG9nZ2xlPVwidGFiXCJdJykub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgbmV3VXJsID0gdm9pZCAwO1xuICAgICAgdmFyIGhhc2ggPSAkKHRoaXMpLmF0dHIoXCJocmVmXCIpO1xuICAgICAgaWYgKGhhc2ggPT0gXCIjdGFiMVwiKSB7XG4gICAgICAgIG5ld1VybCA9IHVybC5zcGxpdChcIiNcIilbMF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXdVcmwgPSB1cmwuc3BsaXQoXCIjXCIpWzBdICsgaGFzaDtcbiAgICAgIH1cbiAgICAgIG5ld1VybCArPSBcIi9cIjtcbiAgICAgIGhpc3RvcnkucmVwbGFjZVN0YXRlKG51bGwsIG51bGwsIG5ld1VybCk7XG4gICAgfSk7XG5cbiAgICAkKFwiI3RvcFwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICQoXCJodG1sLCBib2R5XCIpLmFuaW1hdGUoe1xuICAgICAgICBzY3JvbGxUb3A6IDBcbiAgICAgIH0sIDIwMCk7XG4gICAgfSk7XG5cbiAgICAkKFwiLm1haW4tY29udGVudFwiKS5vbihcImNsaWNrXCIsIFwiLmFuY2hvclwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIC8v0L7RgtC80LXQvdGP0LXQvCDRgdGC0LDQvdC00LDRgNGC0L3Rg9GOINC+0LHRgNCw0LHQvtGC0LrRgyDQvdCw0LbQsNGC0LjRjyDQv9C+INGB0YHRi9C70LrQtVxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgLy/Qt9Cw0LHQuNGA0LDQtdC8INC40LTQtdC90YLQuNGE0LjQutCw0YLQvtGAINCx0L7QutCwINGBINCw0YLRgNC40LHRg9GC0LAgaHJlZlxuICAgICAgdmFyIGlkID0gJCh0aGlzKS5hdHRyKCdocmVmJyksXG5cblxuICAgICAgLy/Rg9C30L3QsNC10Lwg0LLRi9GB0L7RgtGDINC+0YIg0L3QsNGH0LDQu9CwINGB0YLRgNCw0L3QuNGG0Ysg0LTQviDQsdC70L7QutCwINC90LAg0LrQvtGC0L7RgNGL0Lkg0YHRgdGL0LvQsNC10YLRgdGPINGP0LrQvtGA0YxcbiAgICAgIHRvcCA9ICQoaWQpLm9mZnNldCgpLnRvcDtcblxuICAgICAgLy/QsNC90LjQvNC40YDRg9C10Lwg0L/QtdGA0LXRhdC+0LQg0L3QsCDRgNCw0YHRgdGC0L7Rj9C90LjQtSAtIHRvcCDQt9CwIDE1MDAg0LzRgVxuICAgICAgJCgnYm9keSxodG1sJykuYW5pbWF0ZSh7IHNjcm9sbFRvcDogdG9wIH0sIDE1MDApO1xuICAgIH0pO1xuXG4gICAgQU9TLmluaXQoKTtcblxuICAgICQoJy5tYXRjaEhlaWdodCcpLm1hdGNoSGVpZ2h0KCk7XG5cbiAgICAkKGZ1bmN0aW9uICgpIHtcbiAgICAgICQoJy5sZWFkZXJzJykuZWFjaChmdW5jdGlvbiAoaSwgZWxlbSkge1xuICAgICAgICAkKGVsZW0pLmZpbmQoJy5sZWFkZXJzX19pdGVtIC5sZWFkZXJzX19pdGVtLS1ib3R0b20nKSAvLyBPbmx5IGNoaWxkcmVuIG9mIHRoaXMgcm93XG4gICAgICAgIC5tYXRjaEhlaWdodCh7IGJ5Um93OiBmYWxzZSB9KTsgLy8gUm93IGRldGVjdGlvbiBnZXRzIGNvbmZ1c2VkIHNvIGRpc2FibGUgaXRcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgJChmdW5jdGlvbiAoKSB7XG4gICAgICAkKCcudGhpbmsnKS5lYWNoKGZ1bmN0aW9uIChpLCBlbGVtKSB7XG4gICAgICAgICQoZWxlbSkuZmluZCgnLnRoaW5rX19pdGVtIC50aGlua19faXRlbS0tYm90dG9tJykgLy8gT25seSBjaGlsZHJlbiBvZiB0aGlzIHJvd1xuICAgICAgICAubWF0Y2hIZWlnaHQoeyBieVJvdzogZmFsc2UgfSk7IC8vIFJvdyBkZXRlY3Rpb24gZ2V0cyBjb25mdXNlZCBzbyBkaXNhYmxlIGl0XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgICQoZnVuY3Rpb24gKCkge1xuICAgICAgJCgnLnNvbHV0aW9ucycpLmVhY2goZnVuY3Rpb24gKGksIGVsZW0pIHtcbiAgICAgICAgJChlbGVtKS5maW5kKCcuc29sdXRpb25zX19pdGVtcy0taXRlbSAuaGlkZGVuJykgLy8gT25seSBjaGlsZHJlbiBvZiB0aGlzIHJvd1xuICAgICAgICAubWF0Y2hIZWlnaHQoeyBieVJvdzogZmFsc2UgfSk7IC8vIFJvdyBkZXRlY3Rpb24gZ2V0cyBjb25mdXNlZCBzbyBkaXNhYmxlIGl0XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHZhciBpbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcGhvbmVcIik7XG4gICAgd2luZG93LmludGxUZWxJbnB1dChpbnB1dCwge1xuICAgICAgc2VwYXJhdGVEaWFsQ29kZTogdHJ1ZSxcbiAgICAgIGN1c3RvbVBsYWNlaG9sZGVyOiBmdW5jdGlvbiBjdXN0b21QbGFjZWhvbGRlcihzZWxlY3RlZENvdW50cnlEYXRhKSB7XG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgJChcImZvcm0gOmlucHV0XCIpLmZvY3VzKGZ1bmN0aW9uICgpIHtcbiAgICAgICQoXCJsYWJlbFtmb3I9J1wiICsgdGhpcy5pZCArIFwiJ11cIikuYWRkQ2xhc3MoXCJzZWxlY3RlZFwiKTtcbiAgICB9KS5ibHVyKGZ1bmN0aW9uICgpIHtcbiAgICAgICQoXCJsYWJlbFwiKS5yZW1vdmVDbGFzcyhcInNlbGVjdGVkXCIpO1xuICAgIH0pO1xuXG4gICAgb25SZXNpemUoKTtcblxuICAgICQoXCIubWFpbi1oZWFkZXJcIikub24oXCJjbGlja1wiLCBcIi5tYWluLWJ0blwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB2YXIgaWQgPSAkKHRoaXMpLmF0dHIoJ2hyZWYnKSxcbiAgICAgICAgICB0b3AgPSAkKGlkKS5vZmZzZXQoKS50b3A7XG4gICAgICAkKCdib2R5LGh0bWwnKS5hbmltYXRlKHsgc2Nyb2xsVG9wOiB0b3AgfSwgMTUwMCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gICQod2luZG93KS5yZXNpemUoZnVuY3Rpb24gKCkge1xuICAgIG9uUmVzaXplKCk7XG4gIH0pO1xuXG4gICQod2luZG93KS5zY3JvbGwoZnVuY3Rpb24gKCkge1xuICAgIGlmICgkKHRoaXMpLnNjcm9sbFRvcCgpIC0gMjAwMCA+IDApIHtcbiAgICAgICQoJyN0b3AnKS5zdG9wKCkuc2xpZGVEb3duKCdmYXN0Jyk7IC8vIHNob3cgdGhlIGJ1dHRvblxuICAgIH0gZWxzZSB7XG4gICAgICAkKCcjdG9wJykuc3RvcCgpLnNsaWRlVXAoJ2Zhc3QnKTsgLy8gaGlkZSB0aGUgYnV0dG9uXG4gICAgfVxuICB9KTtcbn0pKGpRdWVyeSk7XG5cbndpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICQoJy5jb250YWN0LWZvcm0gZm9ybScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICQodGhpcykudmFsaWRhdGUoe1xuICAgICAgZXJyb3JDbGFzczogJ2hhcy1lcnJvcicsXG4gICAgICB2YWxpZENsYXNzOiAnaGFzLXN1Y2Nlc3MnLFxuICAgICAgc2hvd0Vycm9yczogZnVuY3Rpb24gc2hvd0Vycm9ycyhlcnJvck1hcCkge1xuICAgICAgICBpZiAoZXJyb3JNYXBbJ2F0dGFjaCddKSBOb3RpZnkodXBsb2FkRXJyb3JNZXNzYWdlLCBub3RpZnlEZWxheSk7XG4gICAgICAgIHRoaXMuZGVmYXVsdFNob3dFcnJvcnMoKTtcbiAgICAgIH0sXG4gICAgICBoaWdobGlnaHQ6IGZ1bmN0aW9uIGhpZ2hsaWdodChlbGVtLCBlcnJvckNsYXNzLCB2YWxpZENsYXNzKSB7XG4gICAgICAgICQoZWxlbSkucGFyZW50KCkucGFyZW50KCkuYWRkQ2xhc3MoZXJyb3JDbGFzcykucmVtb3ZlQ2xhc3ModmFsaWRDbGFzcyk7XG4gICAgICB9LFxuICAgICAgdW5oaWdobGlnaHQ6IGZ1bmN0aW9uIHVuaGlnaGxpZ2h0KGVsZW0sIGVycm9yQ2xhc3MsIHZhbGlkQ2xhc3MpIHtcbiAgICAgICAgJChlbGVtKS5wYXJlbnQoKS5wYXJlbnQoKS5yZW1vdmVDbGFzcyhlcnJvckNsYXNzKS5hZGRDbGFzcyh2YWxpZENsYXNzKTtcbiAgICAgIH0sXG4gICAgICBydWxlczoge1xuICAgICAgICBuYW1lOiB7XG4gICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgbWF4bGVuZ3RoOiAyNTVcbiAgICAgICAgfSxcbiAgICAgICAgbGFzdF9uYW1lOiB7XG4gICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgbWF4bGVuZ3RoOiAyNTVcbiAgICAgICAgfSxcbiAgICAgICAgcGhvbmU6IHtcbiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICBudW1iZXI6IHRydWUsXG4gICAgICAgICAgbWF4bGVuZ3RoOiAyNTUsXG4gICAgICAgICAgbWlubGVuZ3RoOiA1XG4gICAgICAgIH0sXG4gICAgICAgIGNvbXBhbnk6IHtcbiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICBtYXhsZW5ndGg6IDI1NVxuICAgICAgICB9LFxuICAgICAgICBjb3VudHJ5OiB7XG4gICAgICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgc2l6ZToge1xuICAgICAgICAgIHJlcXVpcmVkOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIHBvc2l0aW9uOiB7XG4gICAgICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgZW1haWw6IHtcbiAgICAgICAgICByZXF1aXJlZDoge1xuICAgICAgICAgICAgZGVwZW5kczogZnVuY3Rpb24gZGVwZW5kcygpIHtcbiAgICAgICAgICAgICAgJCh0aGlzKS52YWwoJC50cmltKCQodGhpcykudmFsKCkpKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBlbWFpbDogdHJ1ZSxcbiAgICAgICAgICBtYXhsZW5ndGg6IDI1NVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgbWVzc2FnZXM6IGZhbHNlLFxuICAgICAgc3VibWl0SGFuZGxlcjogZnVuY3Rpb24gc3VibWl0SGFuZGxlcihmb3JtLCBldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB2YXIgcm93RGF0YSA9IG5ldyBGb3JtRGF0YShmb3JtKTtcbiAgICAgICAgdmFyIHVybCA9IGZvcm0uZ2V0QXR0cmlidXRlKCdkYXRhLXVybCcpO1xuICAgICAgICB2YXIgc3VjY2Vzc01lc3NhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGFjdC1mb3JtIC5zdWNjZXNzJyk7XG5cbiAgICAgICAgd2luZG93LmhhbmRsZUZvcm1TdWJtaXQodXJsLCByb3dEYXRhLCB7XG4gICAgICAgICAgdHlwZTogJ0NvbnRhY3RGb3JtJ1xuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzKSB7XG4gICAgICAgICAgICB3aW5kb3cuZGF0YUxheWVyLnB1c2goeyAnZXZlbnQnOiAnRWJvb2tEb3dubG9hZCcgfSk7XG4gICAgICAgICAgICBmb3JtLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAgICAgc3VjY2Vzc01lc3NhZ2UuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbn07XG5cbi8vIHBvc3RlciBmcmFtZSBjbGljayBldmVudFxuJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5qcy12aWRlb1Bvc3RlcicsIGZ1bmN0aW9uIChldikge1xuXG4gIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gIHZhciAkcG9zdGVyID0gJCh0aGlzKTtcbiAgdmFyICR3cmFwcGVyID0gJHBvc3Rlci5jbG9zZXN0KCcuanMtdmlkZW9XcmFwcGVyJyk7XG4gIHZpZGVvUGxheSgkd3JhcHBlcik7XG59KTtcblxuLy8gcGxheSB0aGUgdGFyZ2V0ZWQgdmlkZW8gKGFuZCBoaWRlIHRoZSBwb3N0ZXIgZnJhbWUpXG5mdW5jdGlvbiB2aWRlb1BsYXkoJHdyYXBwZXIpIHtcbiAgdmFyICRpZnJhbWUgPSAkd3JhcHBlci5maW5kKCcuanMtdmlkZW9JZnJhbWUnKTtcbiAgdmFyIHNyYyA9ICRpZnJhbWUuZGF0YSgnc3JjJyk7XG4gIC8vIGhpZGUgcG9zdGVyXG4gICR3cmFwcGVyLmFkZENsYXNzKCd2aWRlb1dyYXBwZXJBY3RpdmUnKTtcbiAgLy8gYWRkIGlmcmFtZSBzcmMgaW4sIHN0YXJ0aW5nIHRoZSB2aWRlb1xuICAkaWZyYW1lLmF0dHIoJ3NyYycsIHNyYyk7XG59Il19
